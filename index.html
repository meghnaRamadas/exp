<html>
    <head>
        <title>Sound recognision</title>

        <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js" type="text/javascript" ></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body style="background-color:#F3E5AB;">
        <center>
        <div class="header" style="background-color:#7B3F00;">
            <h1 id="h1" style="color: rgb(233, 198, 204);">Sound controlled animals</h1>
            <h4 style="font-weight: bold; color: rgb(230, 217, 200); ">NOTE:play different sounds like barking,meowing,roaring,or mooing </h4>
        </div>

        <div>
            <button id="btn" onclick="start()" > Operate</button>
            
            <div>
                <hr>
                <hr>
            <h3 id="obj"> Sound of animal :  </h3>
            <img id="meme" src="" width="150" height="150" style="background-color: #E3963E;">
            </div>
            <hr><hr>
            <img id="imag" width="250px" height="250px" style="background-color:#8762; " src="ear.png">
             
        </div>
        <br>
        <br>
        <br>
        <div class="footer" style=  "background-color:#E3963E; bottom: 0;
        position: fixed;
        color: rgb(0, 0, 0);
        font-size: large;
        font-weight: bold;
        text-align: center;
        width: 100%;
        line-height: 4;
        text-shadow: 5px 5px 5px rgb(34, 34, 34);">Developed by : Meghna</div>
    </center>

    <script> function start() {
        navigator.mediaDevices.getUserMedia({audio:true});
        classifier = ml5.soundClassifier("https://teachablemachine.withgoogle.com/models/Xwx2is9g3/model.json", modelReady)
    }
    
    
    
    
    
function modelReady() {
classifier.classify(gotResult);
}

function gotResult(error, result){
if (error){
console.log(error);
}
else{
console.log(result);
random_color_r = Math.floor(Math.random()*255)+1;
random_color_g = Math.floor(Math.random()*255)+1;
random_color_b = Math.floor(Math.random()*255)+1;

document.getElementById("obj").innerHTML=" Sound of animal : "+result[0].label;

document.getElementById("obj").style.color = "rgb("+random_color_r+","+random_color_g+","+random_color_b+")";

 img = document.getElementById("imag");
 memes = document.getElementById("meme");

if (result[0].label=="meowing"){
    img.src = "cat.jpg"
    memes.src = "giphy.gif" 
    
}
else if(result[0].label=="barking"){
    img.src = "dog.jpg"
    memes.src = "fedecks.gif" 
}
else if(result[0].label=="roar"){
    img.src = "lion.jpg"
    memes.src = "lol-lmao.gif" 
}
else{
    img.src = "cow.png"
    memes.src = "cow.gif" 
}

}
}
    
    
    </script>
    </body>
</html>